!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).webMitoSdk={})}(this,function(e){var t=/*#__PURE__*/function(){function e(e){var t=e.type,n=e.config,o=e.sendApi,i=e.sendResource,r=e.sendJsError;this.name=e.name,this.type=t,this.config=n,this.sendApi=o,this.sendJsError=r,this.sendResource=i}return e.prototype.init=function(){var e,t,n,o,i;this.sendApi&&window.XMLHttpRequest&&(e=window.XMLHttpRequest.prototype,t=e.send,n=function(e){e&&e.currentTarget&&200!==e.currentTarget.status&&console.log(e.currentTarget,"apiError")},e.send=function(){if(this.addEventListener)this.addEventListener("error",n),this.addEventListener("load",n),this.addEventListener("abort",n);else{var e=this.onreadystatechange;this.onreadystatechange=function(t){4===this.readyState&&n(t),e&&e.apply(this,arguments)}}return t.apply(this,arguments)}),this.sendApi&&function(e){if(window.fetch){var t=window.fetch;window.fetch=function(){return t.apply(this,arguments).then(function(e){return e}).catch(function(e){throw e})}}}(),this.sendJsError&&(o=this.type,i=this.config,window.addEventListener("error",function(e){e.target.localName||console.log("这是代码错误",e)},!0),window.addEventListener("unhandledrejection",function(e){console.log("这是Promise场景中错误",e)}),"VUE"==o&&(i.errorHandler=function(e,t,n){console.log(t.$options.propsData,"vue内部错误")})),this.sendResource&&window.addEventListener("error",function(e){e.target.localName&&console.log("这是资源错误",e)},!0)},e}();e.webMitoSdkInit=t});
//# sourceMappingURL=web-mito-sdk.umd.js.map
